<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Tutor Connect</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="/frontend/bootstrap-5.3.3-dist/css/bootstrap.min.css">
</head>

<body>
  <nav>
    <div class="navbar w-100 d-flex justify-content-between align-items-center flex-wrap bg-dark text-light fw-bolder">
      <div class="navbar-left w-25 d-flex justify-content-center ">
        <h4>SUST TUTOR</h4>
      </div>
      <div class="navbar-right me-5 mt-2 ">
        <ul class="list d-flex gap-4 list-unstyled">
          <li><a class="list-nav text-decoration-none  text-light" href="#homeSection">Home</a></li>
          <!-- <li><a class="text-decoration-none  text-light" href="#createSection">Create Profile</a></li> -->
          <li><a class="list-nav text-decoration-none  text-light" href="#profilesSection">Show Profiles</a></li>
          <li><a class=" list-nav text-decoration-none  text-light" href="#aboutSection">About Us</a></li>
          <li><a class=" list-nav text-decoration-none  text-light" href="#contactSection">Contact Us</a></li>
          <button class="btn-nav rounded text-secondary"><a class="text-decoration-none text-dark"href="">Register</a></button>
          <button class=" btn-nav rounded text-secondary"><a class="text-decoration-none text-dark"href="">Login</a></button>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Home Section -->
   <section id="homeSection" class="bg-color1">
    <div class="hero mt-5 rounded-3 w-75 container mb-5">
      <div class="banner-heading pt-2 ">
        <h1 class="hero-headline text-light text-center mt-3">WELCOME TO <b class="text-warning">SUST TUTOR</b></h1>
        <h2 class="hero-headline text-dark text-center">Trusted --- Authentic --- Reliable</h2>
      </div>
      <div class="container d-flex justify-content-center">
        <img class="img-fluid" src="/uploads/sust.png.png" alt="IICT Building">
      </div>
  </section>

  <!-- Show Profiles Section -->
  <section class="profiles-container" id="profilesSection">
    <h2>All Profiles</h2>
    <button class="filter-toggle" id="showFilter">&#9776; Filters</button>

    <div class="filter-panel" id="filterPanel">
      <div class="filter-item">
        <input type="text" id="filterDept" placeholder="Department">
        <i class="fas fa-building"></i>
      </div>
      <div class="filter-item">
        <input type="text" id="filterSubject" placeholder="Subject">
        <i class="fas fa-book"></i>
      </div>
      <button class="btn" id="applyFilter">Apply Filter</button>
    </div>

    <div id="profiles"></div>
  </section>

  <!-- About Section -->
  <section id="aboutSection" class="bg-color1 ">
    <h2 class="text-center fw-bold mt-5">About Us</h2>
    <div class="about-us d-flex justify-content-between flex-wrap border rounded-3">
      <div class="about-left bg-warning text-center p-5 fw-bolder text-dark">
        <p><strong>TUTOR SUST</strong> is a trusted platform that connects <strong>SUST student tutors</strong>
          with students and guardians in Sylhet. It allows verified SUST students to create profiles highlighting
          their teaching subjects, department, and availability, helping learners easily find qualified tutors from
          the university.</p>
        <p>
          With features like <strong>smart filters</strong> for subject and location and <strong>direct WhatsApp
            contact</strong>,Tutor Connect makes finding the right tutor quick and effortless. Our mission is to build a
          reliable, locally focused network where education meets trust and opportunity.
        </p>
      </div>
      <div class="about-right">
        <img class="cartoon-img" src="/uploads/46325309.jpg" alt="" srcset="">
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contactSection" class="text-center bg-color2">
  <h2 class="fw-bold mt-3">Contact Us</h2>
  <div class="d-flex justify-content-center mb-5">
    <form class="border border-1 p-4 bg-dark text-light rounded-3" style="width: 450px;">
      <input class="form-control mb-3" type="text" placeholder="Your Name" required>
      <input class="form-control mb-3" type="email" placeholder="Your Email" required>
      <textarea class="form-control mb-3" placeholder="Your Message" rows="4" required></textarea>
      <button class="btn btn-primary text-light mb-2 d-block mx-auto w-50" type="submit">Send</button>
    </form>
  </div>
</section>
  <!-- ✅ Footer Section -->
 <footer class="bg-dark text-light text-center p-3 w-100">
    <div class="footer-content mt-3 d-flex justify-content-center flex-wrap text-start gap-5 p-3">
      <div class="footer-left w-25">
        <h3 class="text-warning "><i class="fas fa-graduation-cap"></i>SUST TUTOR</h3>
        <p>Connecting students and tutors — building brighter futures together.</p>
      </div>

      <div class="footer-center w-25">
        <h4 class="text-warning">Quick Links</h4>
        <ul class="list-unstyled">
          <li><a class="text-decoration-none" href="#homeSection">Home</a></li>
          <li><a class="text-decoration-none" href="#formSection">Create Profile</a></li>
          <li><a class="text-decoration-none" href="#profilesSection">Show Profiles</a></li>
          <li><a class="text-decoration-none" href="#aboutSection">About Us</a></li>
          <li><a class="text-decoration-none" href="#contactSection">Contact Us</a></li>
        </ul>
      </div>

      <div class="footer-right w-25">
        <h4 class="text-warning">Follow Us</h4>
        <div class="social-icons d-flex gap-3 fs-4">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
    </div>

    <div class="footer-bottom mt-3 p-2 fs-6 text-secondary border-top text-secondary">
      <p>&copy; 2025 Tutor Connect | All Rights Reserved</p>
    </div>
  </footer>

  <script>
    // Form submission (only runs if the form exists)
    const profileForm = document.getElementById("profileForm");
    if (profileForm) {
      profileForm.onsubmit = async (e) => {
        e.preventDefault();
        const formData = new FormData(profileForm);
        await fetch("/api/profiles", { method: "POST", body: formData });
        alert("Profile Created Successfully!");
        profileForm.reset();
      };
    }

    // Fetch profiles
    async function fetchProfiles(department = "", subject = "") {
      let url = "/api/profiles";
      if (department && subject) url += `?department=${department}&subject=${subject}`;
      else if (department) url += `?department=${department}`;
      else if (subject) url += `?subject=${subject}`;

      const res = await fetch(url);
      const profiles = await res.json();
      const container = document.getElementById("profiles");
      container.innerHTML = "";
      profiles.forEach(p => {
        const div = document.createElement("div");
        div.className = "profile-card";
        div.innerHTML = `
      <img src="/uploads/${p.photo}" alt="photo">
      <div class="profile-info">
        <h3>${p.full_name}</h3>
        <p><strong>Dept:</strong> ${p.department}</p>
        <p><strong>Subject:</strong> ${p.subject_to_teach}</p>
        <p><strong>Salary:</strong> ${p.salary_range}</p>
      </div>`;
        div.onclick = () => window.location.href = `profile.html?id=${p.id}`;
        container.appendChild(div);
      });
    }

    document.getElementById("applyFilter").onclick = () => {
      const dept = document.getElementById("filterDept").value;
      const subject = document.getElementById("filterSubject").value;
      fetchProfiles(dept, subject);
    };

    const showFilterBtn = document.getElementById("showFilter");
    const filterPanel = document.getElementById("filterPanel");
    showFilterBtn.onclick = () => {
      filterPanel.style.display = filterPanel.style.display === "flex" ? "none" : "flex";
    };

    // Fetch profiles initially
    fetchProfiles();
  </script>
  <script src="/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>